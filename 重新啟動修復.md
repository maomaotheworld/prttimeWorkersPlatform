# 樓層和時薪功能修復指南

## 🚨 目前問題

1. Excel匯入的樓層資料沒有顯示
2. Excel匯入的時薪沒有正確設定為基本時薪
3. 後端修改後需要重新啟動

## 🔧 修復步驟

### 1. 停止所有服務

```powershell
# 停止所有 Node 程序
taskkill /f /im node.exe
```

### 2. 重新啟動後端

```powershell
# 切換到後端目錄
cd "C:\Users\evelyn.pan\Downloads\GIT\prttimeWorkersPlatform\backend"

# 啟動後端 (端口 3005)
node index.js
```

**等待看到：** `🚀 伺服器運行在 http://0.0.0.0:3005`

### 3. 重新啟動前端

```powershell
# 開啟新的 PowerShell 視窗
cd "C:\Users\evelyn.pan\Downloads\GIT\prttimeWorkersPlatform\frontend"

# 啟動前端 (端口 5175)
npm run dev
```

**等待看到：** `➜ Local: http://localhost:5175/`

## 🧪 測試修復

### 測試後端API

```powershell
# 測試新增工讀生（包含樓層和時薪）
Invoke-WebRequest -Uri "http://localhost:3005/api/workers" -Method POST -Headers @{"Content-Type"="application/json"} -Body '{"number":"TEST001","name":"測試工讀生","gender":"male","level":1,"floor":"3F","baseHourlyWage":250}' -UseBasicParsing
```

**預期回應應包含：**

- `"floor":"3F"`
- `"baseHourlyWage":250`

## 📋 Excel 重新匯入步驟

由於之前的資料是在修復前匯入的，需要重新匯入：

### 1. 清除舊資料（可選）

- 在工讀生管理頁面刪除舊的測試資料

### 2. 重新匯入 Excel

**確保 Excel 格式：**

```
A欄(編號) | B欄(姓名) | C欄(組別) | D欄(樓層) | E欄(時薪)
1        | 張志明    | 頒獎      | 1F      | 200
2        | 李建華    | 點錄      | 2F      | 200
3        | 王大偉    | 顧門      | 2F      | 200
```

### 3. 檢查匯入結果

匯入後應該看到：

- ✅ 樓層欄位正確顯示 (1F, 2F, B1...)
- ✅ 基本時薪正確顯示 (200, 250...)
- ✅ 組別自動建立並分配

## 🛠️ 如果仍有問題

### 清除瀏覽器快取

```
1. 按 F12 開啟開發者工具
2. 右鍵重新整理按鈕
3. 選擇 "清空快取並強制重新整理"
```

### 檢查控制台錯誤

```
1. 按 F12 開啟開發者工具
2. 點擊 "Console" 標籤
3. 查看是否有紅色錯誤訊息
```

## 📞 支援

如果按照以上步驟仍有問題，請提供：

1. 具體的錯誤訊息
2. 瀏覽器控制台截圖
3. Excel 檔案的前幾行資料
